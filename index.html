<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø³Ø§Ø¹Ø¯ ØµØ§Ù„Ø­ Ø§Ù„Ø´Ø®ØµÙŠ</title>
    <style>
        :root { --p-color: #2563eb; --s-color: #f8fafc; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #e2e8f0; margin: 0; padding: 20px; text-align: center; }
        .container { max-width: 500px; margin: auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { color: #1e293b; margin-bottom: 25px; }
        .section { background: var(--s-color); padding: 15px; border-radius: 15px; margin-bottom: 20px; border: 1px solid #e2e8f0; }
        h3 { margin-top: 0; color: var(--p-color); }
        button { width: 100%; padding: 12px; margin: 10px 0; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.3s; }
        .btn-study { background-color: #059669; color: white; }
        .btn-smoke { background-color: #dc2626; color: white; }
        .btn-check { background-color: #4b5563; color: white; }
        button:hover { opacity: 0.8; transform: scale(1.02); }
        .schedule-list { text-align: right; font-size: 14px; color: #475569; }
        .task-input { width: 80%; padding: 10px; border-radius: 8px; border: 1px solid #cbd5e1; }
    </style>
</head>
<body>

<div class="container">
    <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ ØµØ§Ù„Ø­ ğŸ‘‹</h1>

    <div class="section">
        <h3>ğŸ“… Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3>
        <div class="schedule-list">
            <p>ğŸ“ Ø§Ù„Ø£Ø­Ø¯ - Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡: Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ (4:00 Ù…)</p>
            <p>ğŸ”” ØªÙ†Ø¨ÙŠÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠ: 3:50 Ù…</p>
        </div>
        <button class="btn-study" onclick="sendPush('ØªÙ†Ø¨ÙŠÙ‡ ÙŠØ¯ÙˆÙŠ: ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ù‚Ø§Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø¯Ø¡!')">ØªÙ†Ø¨ÙŠÙ‡ ÙÙˆØ±ÙŠ Ù„Ù„Ù…Ø­Ø§Ø¶Ø±Ø©</button>
    </div>

    <div class="section">
        <h3>ğŸš¬ Ù…Ø¤Ù‚Øª Ø§Ù„ØªØ¯Ø®ÙŠÙ† (50 Ø¯Ù‚ÙŠÙ‚Ø©)</h3>
        <p id="smokeStatus">Ø§Ù„Ù…Ø¤Ù‚Øª Ù…ØªÙˆÙ‚Ù</p>
        <button class="btn-smoke" onclick="startSmokeTimer()">Ø§Ø¨Ø¯Ø£ Ù…Ø¤Ù‚Øª Ø§Ù„Ù€ 50 Ø¯Ù‚ÙŠÙ‚Ø©</button>
    </div>

    <div class="section">
        <h3>âœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…</h3>
        <input type="text" id="taskInput" class="task-input" placeholder="Ø§ÙƒØªØ¨ Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©...">
        <button class="btn-check" onclick="addTask()">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©</button>
        <div id="taskList" style="text-align: right; margin-top: 10px;"></div>
    </div>

    <p style="font-size: 10px; color: #94a3b8;">Ù…ØªØµÙ„ Ø¨Ù€ Pushover & Railway</p>
</div>

<script>
    // Ù…ÙØ§ØªÙŠØ­Ùƒ Ø§Ù„Ø®Ø§ØµØ©
    const USER_KEY = "u3tzdxsiv36dhusagamzj2dzf3tnoo";
    const API_TOKEN = "a7n1pcuud8fdqoj6cczxf8mibewn8o";
    const RAILWAY_URL = "https://Ø±Ø§Ø¨Ø·-Ù…Ø´Ø±ÙˆØ¹Ùƒ.up.railway.app/smoke"; // Ø§Ø³ØªØ¨Ø¯Ù„ Ù‡Ø°Ø§ Ø¨Ø±Ø§Ø¨Ø· Railway Ø§Ù„ÙØ¹Ù„ÙŠ

    // Ø¯Ø§Ù„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø¹Ø§Ù…
    async function sendPush(message) {
        const url = 'https://api.pushover.net/1/messages.json';
        const body = `token=${API_TOKEN}&user=${USER_KEY}&message=${encodeURIComponent(message)}&priority=1&sound=climb`;

        try {
            await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: body
            });
            console.log("Push sent!");
        } catch (e) {
            alert("ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡");
        }
    }

    // Ø¯Ø§Ù„Ø© Ù…Ø¤Ù‚Øª Ø§Ù„ØªØ¯Ø®ÙŠÙ† Ø¹Ø¨Ø± Railway (Ù„ÙƒÙŠ Ù„Ø§ ÙŠØªÙˆÙ‚Ù Ø¹Ù†Ø¯ Ù‚ÙÙ„ Ø§Ù„Ø´Ø§Ø´Ø©)
    function startSmokeTimer() {
        document.getElementById('smokeStatus').innerText = "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø³ÙŠØ±ÙØ±.. Ø§Ù†ØªØ¸Ø± Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¨Ø¹Ø¯ 50 Ø¯Ù‚ÙŠÙ‚Ø©.";
        
        fetch(RAILWAY_URL, { method: 'POST' })
        .then(() => {
            alert("Ø¨Ø¯Ø£ Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙŠ Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ. ÙŠÙ…ÙƒÙ†Ùƒ Ù‚ÙÙ„ Ø§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ø¢Ù†.");
        })
        .catch(() => {
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ±ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ÙƒØ­Ù„ Ø¨Ø¯ÙŠÙ„
            sendPush("Ø¨Ø¯Ø£ Ù…Ø¤Ù‚Øª Ø§Ù„Ù€ 50 Ø¯Ù‚ÙŠÙ‚Ø© (Ù…Ø­Ù„ÙŠØ§Ù‹)..");
            setTimeout(() => sendPush("Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù€ 50 Ø¯Ù‚ÙŠÙ‚Ø©! ğŸš¬"), 50 * 60 * 1000);
        });
    }

    // Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
    function addTask() {
        const input = document.getElementById('taskInput');
        if (input.value === "") return;
        const list = document.getElementById('taskList');
        const div = document.createElement('div');
        div.innerHTML = `â€¢ ${input.value} <hr style='opacity:0.2'>`;
        list.appendChild(div);
        input.value = "";
    }
</script>

</body>
</html>
